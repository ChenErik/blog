(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{506:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"ffmpeg简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg简介"}},[t._v("#")]),t._v(" ffmpeg简介")]),t._v(" "),a("p",[t._v("FFmpeg的名称来自MPEG视频编码标准，前面的“FF”代表“Fast Forward”，FFmpeg是一套可以用来记录、转换数字音频、视频，并能将其转化为流的开源计算机程序。可以轻易地实现多种视频格式之间的相互转换。包括如下几个部分：")]),t._v(" "),a("ul",[a("li",[t._v("libavformat：用于各种音视频封装格式的生成和解析，包括获取解码所需信息以生成解码上下文结构和读取音视频帧等功能，包含demuxers和muxer库。")]),t._v(" "),a("li",[t._v("libavcodec：用于各种类型声音/图像编解码。")]),t._v(" "),a("li",[t._v("libavutil：包含一些公共的工具函数。")]),t._v(" "),a("li",[t._v("libswscale：用于视频场景比例缩放、色彩映射转换。")]),t._v(" "),a("li",[t._v("libpostproc：用于后期效果处理。")]),t._v(" "),a("li",[t._v("ffmpeg：是一个命令行工具，用来对视频文件转换格式，也支持对电视卡实时编码。")]),t._v(" "),a("li",[t._v("ffsever：是一个HTTP多媒体实时广播流服务器，支持时光平移。")]),t._v(" "),a("li",[t._v("ffplay：是一个简单的播放器，使用ffmpeg 库解析和解码，通过SDL显示。")]),t._v(" "),a("li",[t._v("ffprobe：收集多媒体文件或流的信息，并以人和机器可读的方式输出")])]),t._v(" "),a("h2",{attrs:{id:"技术概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#技术概念"}},[t._v("#")]),t._v(" 技术概念")]),t._v(" "),a("h4",{attrs:{id:"容器-container"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器-container"}},[t._v("#")]),t._v(" 容器(Container)")]),t._v(" "),a("p",[t._v("​ 一种文件格式，比如flv，mkv等。包含下面5种流以及文件头信息。")]),t._v(" "),a("h4",{attrs:{id:"流-stream"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#流-stream"}},[t._v("#")]),t._v(" 流(Stream)")]),t._v(" "),a("p",[t._v("​ 一种视频数据信息的传输方式，5种流：音频，视频，字幕，附件，数据。")]),t._v(" "),a("h4",{attrs:{id:"帧-frame"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帧-frame"}},[t._v("#")]),t._v(" 帧(Frame)")]),t._v(" "),a("p",[t._v("​ 帧代表一幅静止的图像，分为I帧，P帧，B帧。")]),t._v(" "),a("h4",{attrs:{id:"编解码器-codec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编解码器-codec"}},[t._v("#")]),t._v(" 编解码器(Codec)")]),t._v(" "),a("p",[t._v("​ 是对视频进行压缩或者解压缩，CODEC = COde（编码） +DECode（解码）。")]),t._v(" "),a("h4",{attrs:{id:"复用-解复用-mux-demux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复用-解复用-mux-demux"}},[t._v("#")]),t._v(" 复用/解复用(mux/demux)")]),t._v(" "),a("p",[t._v("​ 把不同的流按照某种容器的规则放入容器，这种行为叫做复用（mux）。\n​ 把不同的流从某种容器中解析出来，这种行为叫做解复用(demux)。")]),t._v(" "),a("h4",{attrs:{id:"帧率"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#帧率"}},[t._v("#")]),t._v(" 帧率")]),t._v(" "),a("p",[t._v("​ 帧率也叫帧频率，帧率是视频文件中每一秒的帧数，肉眼想看到连续移动图像至少需要15帧。")]),t._v(" "),a("h4",{attrs:{id:"码率"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#码率"}},[t._v("#")]),t._v(" 码率")]),t._v(" "),a("p",[t._v("​ 比特率(也叫码率，数据率)是一个确定整体视频/音频质量的参数，秒为单位处理的字节数，码率和视频质量成正比，在视频文件中中比特率用bps来表达。")]),t._v(" "),a("h2",{attrs:{id:"ffmpeg常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg常用命令"}},[t._v("#")]),t._v(" FFmpeg常用命令")]),t._v(" "),a("h4",{attrs:{id:"_1-分离视频音频流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-分离视频音频流"}},[t._v("#")]),t._v(" 1.分离视频音频流")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ffmpeg -i input_file -vcodec copy -an output_file_video　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#分离视频流")]),t._v("\nffmpeg -i input_file -acodec copy -vn output_file_audio　　"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#分离音频流")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-视频解复用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-视频解复用"}},[t._v("#")]),t._v(" 2.视频解复用")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ffmpeg –i test.mp4 –vcodec copy –an –f m4v test.264\nffmpeg –i test.avi –vcodec copy –an –f m4v test.264\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_3-视频转码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-视频转码"}},[t._v("#")]),t._v(" 3.视频转码")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ffmpeg –i test.mp4 –vcodec h264 –s "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("352")]),t._v("*278 –an –f m4v test.264             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#转码为码流原始文件")]),t._v("\nffmpeg –i test.mp4 –vcodec h264 –bf "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" –g "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(" –s "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("352")]),t._v("*278 –an –f m4v test.264  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#转码为码流原始文件")]),t._v("\nffmpeg –i test.avi -vcodec mpeg4 –vtag xvid –qsame test_xvid.avi            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#转码为封装文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#-bf B帧数目控制，-g 关键帧间隔控制，-s 分辨率控制")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("h4",{attrs:{id:"_4-视频封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-视频封装"}},[t._v("#")]),t._v(" 4.视频封装")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ffmpeg –i video_file –i audio_file –vcodec copy –acodec copy output_file\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"_5-视频剪切"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-视频剪切"}},[t._v("#")]),t._v(" 5.视频剪切")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ffmpeg –i test.avi –r "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" –f image2 image-%3d.jpeg        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#提取图片")]),t._v("\nffmpeg -ss "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":1:30 -t "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":0:20 -i input.avi -vcodec copy -acodec copy output.avi    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#剪切视频")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#-r 提取图像的频率，-ss 开始时间，-t 持续时间")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h4",{attrs:{id:"_6-视频录制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-视频录制"}},[t._v("#")]),t._v(" 6.视频录制")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("ffmpeg –i rtsp://192.168.3.205:5555/test –vcodec copy out.avi\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"_6-格式转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-格式转换"}},[t._v("#")]),t._v(" 6.格式转换")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将mp4文件转换为flv")]),t._v("\nffmpeg -i IU.mp4 -acodec aac test.flv   \n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("-i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.avi"')]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输入文件是")]),t._v("\n-title "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test"')]),t._v(" \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 影片的标题")]),t._v("\n-s 368x208 \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出的分辨率为368x208，注意片源一定要是16:9的不然会变形")]),t._v("\n-r "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("29.97")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 帧数")]),t._v("\n-b "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),t._v("\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 视频数据流量，用-b xxxx的指令则使用固定码率,还可以用动态码率如：-qscale 4和-qscale 6，4的质量比6高")]),t._v("\n-acodec \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# aac音频编码用AAC")]),t._v("\n-ac \t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 声道数1或2")]),t._v("\n-ar "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24000")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 声音的采样频率")]),t._v("\n-ab "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("128")]),t._v("\t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 音频数据流量，一般选择32、64、96、128")]),t._v("\n-vol "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 200%的音量，自己改")]),t._v("\n-ab bitrate     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置音频码率")]),t._v("\n-ar freq \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置音频采样率")]),t._v("\n-ss \t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定时间点开始转换任务(time_off set the start time offset),-ss后跟的时间单位为秒 .")]),t._v("\n-s 320x240 \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定分辨率   ")]),t._v("\n-bitexact \t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用标准比特率 ")]),t._v("\n-vcodec xvid    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用xvid压缩")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h2",{attrs:{id:"ffmpeg使用方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg使用方法"}},[t._v("#")]),t._v(" FFmpeg使用方法")]),t._v(" "),a("p",[t._v("ffmpeg [全局选项] {[输入文件选项] -i 输入文件} … {[输出文件选项] 输出文件}")]),t._v(" "),a("h2",{attrs:{id:"主要选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主要选项"}},[t._v("#")]),t._v(" 主要选项")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("-f "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fmt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t强制输入或输出文件格式。通常，输入文件的格式是自动检测的，\n\t输出文件的格式是通过文件扩展名来进行猜测的，所有该选项大\n\t多数时候不需要。\n-i filename "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t输入文件名\n-y "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t覆盖输出文件而不询问\n-n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t不覆盖输出文件，如果一个给定的输出文件已经存在，则立即\n\t退出\n-c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" codec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n-codec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" codec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t为一个或多个流选择一个编码器"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("当使用在一个输出文件之前时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t或者一个解码器"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("当使用在一个输入文件之前时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。codec 是一个\n\t编码器/解码器名称或者一个特定值“copy”"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("只适用输出"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。\n-t duration "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t当到达 duration 时，停止写输出。\n\tduration 可以是一个数字"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("秒"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，或者使用hh:mm:ss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(".xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("形式。\n\t-to 和 -t 是互斥的，-t 优先级更高。\n-to position "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t在 position 处停止写输出。\n\tduration 可以是一个数字"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("秒"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，或者使用hh:mm:ss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(".xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("形式。\n\t-to 和 -t 是互斥的，-t 优先级更高。\n-fs limit_size "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置文件大小限制，以字节表示\n-ss position "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t当作为输入选项时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("在 -i 之前"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，在输入文件中跳转到 position。\n\t需要注意的是，在大多数格式中，不太可能精确的跳转，因此，\n\tffmpeg 将跳转到 position 之前最接近的位置。当进行转码\n\t并且 -accurate_seek 打开时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("默认"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，位于跳转点和 position \n\t之间的额外部分将被解码并且丢弃。当做流拷贝或者当使用\n\t-noaccurate_seek时，它将被保留下来。\n\t当作为输出选项时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("在输出文件名前"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，解码但是丢弃输入，直到\n\t时间戳到达 position。\n\tposition 可以是秒或者 hh:mm:ss"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(".xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 形式\n-itsoffset offset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置输入时间偏移。 offset 将被添加到输入文件的时间戳。指定\n\t一个正偏移，意味着相应的流将被延时指定时间。\n-timestamp "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t在容器中设置录音时间戳\n-metadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":metadata_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-metadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置metadata key/value对\n-target "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t指定目标文件类型"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vcd, svcd, dvd, dv, dv50"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。\n\t"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" 可以带有 pal-, ntsc- 或 film- 前缀，以使用相应的标准。\n\t所有的格式选项"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bitrate, codecs, buffer sizes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("将自动设定。\n-dframes number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置要录制数据帧的个数。这是 -frames:d 的别名\n-frames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" framecount "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n\tframecount 帧以后，停止写流。\n-q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" q "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n-qscale"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" q "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t使用固定质量范围"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("VBR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。\n-filter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" filtergraph "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t创建filtergraph 指定的过滤图，并使用它来过滤流。\n-filter_script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" filename "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t该选项与-filter相似，唯一的不同是，它的参数是一个存放\n\t过滤图的文件的名称。\n-pre"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" preset_name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t指定匹配流的预设\n-stats "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t打印编码进程/统计信息。默认打开，可以使用 -nostats 禁用。\n-stdin \n\t开启标准输入交互。默认打开，除非标准输入作为一个输入。\n\t可以使用 -nostdin 禁止。\n-debug_ts "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t打印时间戳信息。默认关闭。\n-attach filename "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t添加一个附件到输出文件中\n-dump_attachment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" filename "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n\t提取匹配的附件流到filename指定的文件中。\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br")])]),a("h2",{attrs:{id:"视频选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#视频选项"}},[t._v("#")]),t._v(" 视频选项")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("-vframes number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置录制视频帧的个数。这是 -frames:v 的别名\n-r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" fps "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置帧率"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Hz 值， 分数或缩写"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n-s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" size "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置帧大小。格式为 wxh "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("默认与源相同"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n-aspect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" aspect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置视频显示长宽比\n-vn "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t禁止视频录制\n-vcodec codec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置视频 codec。这是 -codec:v 的别名\n-pass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t选择pass number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" or "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。用来进行双行程视频编码。\n-passlogfile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" prefix "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置 two-pass 日志文件名前缀，默认为“ffmpeg2pass”。\n-vf filtergraph "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t创建 filtergraph 指定的过滤图，并使用它来过滤流。\n-pix_fmt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置像素格式。\n-sws_flags flags "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置软缩放标志\n-vdt n\n\t丢弃阈值\n-psnr\n\t计算压缩帧的 PSNR \n-vstats\n\t复制视频编码统计信息到vstats_HHMMSS.log\n-vstats_file "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n\t复制视频编码统计信息到 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("\n-force_key_frames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(",time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n-force_key_frames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" expr:expr "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t在指定的时间戳强制关键帧\n-copyinkf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t当进行流拷贝时，同时拷贝开头的非关键帧\n-hwaccel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" hwaccel "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t使用硬件加速来解码匹配的流\n-hwaccel_device"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" hwaccel_device "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t选择硬件加速所使用的设备。该选项只有-hwaccel同时指定时才有意义。\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br")])]),a("h2",{attrs:{id:"音频选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#音频选项"}},[t._v("#")]),t._v(" 音频选项")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("-aframes number "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置录制音频帧的个数。这是 -frames:a 的别名\n-ar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" freq "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置音频采样率。\n-aq q "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置音频质量。这是 -q:a 的别名\n-ac"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" channels "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置音频通道数。\n-an "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t禁止音频录制\n-acodec codec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input/output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置音频codec。这是-codec:a的别名\n-sample_fmt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" sample_fmt "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置音频采样格式\n-af filtergraph "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t创建filtergraph 所指定的过滤图，并使用它来过滤流\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("h2",{attrs:{id:"高级选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级选项"}},[t._v("#")]),t._v(" 高级选项")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("-map "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("input_file_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(",sync_file_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("linklabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t指定一个或多个流作为输出文件的源。\n\t命令行中的第一个 -map 选项，指定输出流0的源，\n\t第二个 -map 选项，指定输出流1的源，等等。\n-map_channel "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("input_file_id.stream_specifier.channel_id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":output_file_id.stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t将一个给定输入的音频通道映射到一个输出。\n-map_metadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":metadata_spec_out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" infile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":metadata_spec_in"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-metadata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置下一个输出文件的 metadata 信息。\n-map_chapters input_file_index "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t从索引号为 input_file_index 的输入文件中拷贝章节到下一个输出文件中。\n-timelimit duration "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tffmpeg 运行 duration 秒后推出\n-dump "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t将每一个输入包复制到标准输出\n-hex "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t复制包时，同时复制负载\n-re "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t以本地帧率读取数据。主要用来模拟一个采集设备，\n\t或者实时输入流"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("例如：当从一个文件读取时"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n-vsync parameter\n\t视频同步方法\n-async samples_per_second\n\t音频同步方法\n-shortest "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t当最短的输入流结束时，终止编码\n-muxdelay seconds "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置最大解封装-解码延时\n-muxpreload seconds "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t设置初始解封装-解码延时\n-streamid output-stream-index:new-value "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t为一个输出流分配一个新的stream-id。\n-bsf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":stream_specifier"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" bitstream_filters "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("output,per-stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t为匹配的流设置比特流过滤器\n-filter_complex filtergraph "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t定义一个复杂的过滤图\n-lavfi filtergraph "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t定义一个复杂的过滤图。相当于-filter_complex\n-filter_complex_script filename "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   该选项类似于-filter_complex，唯一的不同是\n   它的参数是一个定义过滤图的文件的文件名\n-accurate_seek "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   打开或禁止在输入文件中的精确跳转。默认打开。\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);